<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
         body{
        text-align: center;
        background-color: rgb(236, 219, 236);
      }
    
      #demo{
        font-size: larger;
        
      }
     
    </style>
</head>
<body>
      
        <div class="container">
            <h3>Universities having most placements done ?</h3>
            <button onclick="maxStudentsInCol('students')">click here</button>
            <p id="demo"></p>
        </div>
        
              <script>
        var data;
           fetch("task.json")
           .then((res) => res.json())
              .then((data1) => {
            data = data1
        });
        var arr1 = []
         var arr = []
           var studentCount = 0;
   

         function maxStudentsInCol(clg){
            data.universities.filter((uni, index) => {
                       data.colleges.filter(col => {
                    if (uni.un_id === col.un_id) {
                    data.collegeDepartments.filter(dept => {
                    if (col.c_id === dept.c_id) {
                    if (clg === "students") {
                        studentCount += dept.placements_done
                                           } 
                }
                    })
                    
                }
            })
            if (clg === "students") {
                arr[index] = studentCount;
                arr1[index] = { universities: uni.name, placements: studentCount };
            }
            studentCount = 0
            
        })
      
        
        arr2 = arr1
        let id = arr.indexOf(Math.max(...arr))
            if (clg === "students") {
            document.getElementById("demo").innerHTML =   data.universities[id].name
        } 
    }

    </script>
</body>
</html>